{"version":3,"file":"dist/on-screen.umd.min.js","sources":["dist/on-screen.umd.js"],"names":["global","factory","exports","module","define","amd","OnScreen","this","attach","container","options","HTMLElement","style","window","getComputedStyle","position","addEventListener","_scroll","attached","inViewport","el","arguments","length","undefined","tolerance","Error","document","querySelector","elRect","getBoundingClientRect","bottom","right","left","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","inContainer","containerRect","offsetTop","scrollTop","offsetLeft","scrollLeft","width","height","eventHandler","trackedElements","selectors","Object","keys","testVisibility","forEach","selector","nodes","item","node","wasVisible","isVisible","enter","leave","debouncedScroll","_this","timeout","clearTimeout","setTimeout","throttle","destroy","removeEventListener","off","event","hasOwnProperty","call","on","callback","allowed","indexOf","i","querySelectorAll","push","observeDOM","obj","MutationObserver","WebKitMutationObserver","eventListenerSupported","obs","mutations","addedNodes","removedNodes","observe","childList","subtree","debounce","defineProperties","configurable","enumerable","get","set","value","parseInt","defineProperty","writable","_debouncedScroll","element","prototype","check"],"mappings":"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"}